<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="ROS 2 Architecture Overview">
  <title>ROS 2 Architecture Overview</title>
  <desc>This diagram illustrates the architecture of ROS 2, showing core components like RMW Layer, Client Libraries, Launch System, and Parameter System. It also depicts the DDS (Data Distribution Service) layer and shows how nodes communicate using different patterns: Topics (green), Services (red), and Actions (purple).</desc>
  <style>
    .title { font: bold 18px sans-serif; fill: #333; }
    .subtitle { font: 14px sans-serif; fill: #555; }
    .box { fill: #e0f0ff; stroke: #0066cc; stroke-width: 2; rx: 10; ry: 10; }
    .node { fill: #e8f4e8; stroke: #2e8555; stroke-width: 2; rx: 8; ry: 8; }
    .topic { fill: #fff0e0; stroke: #d97200; stroke-width: 2; rx: 8; ry: 8; }
    .service { fill: #ffe0e0; stroke: #a62c2c; stroke-width: 2; rx: 8; ry: 8; }
    .action { fill: #f0e0ff; stroke: #7200a6; stroke-width: 2; rx: 8; ry: 8; }
    .arrow { stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
    .label { font: 12px sans-serif; fill: #333; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7"
      refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="300" y="30" class="title">ROS 2 Architecture Overview</text>

  <!-- Core Architecture Components -->
  <rect x="50" y="60" width="700" height="150" class="box"/>
  <text x="60" y="80" class="subtitle">Core Architecture Components</text>

  <rect x="70" y="100" width="150" height="40" class="box"/>
  <text x="85" y="125" class="label">RMW Layer</text>

  <rect x="240" y="100" width="150" height="40" class="box"/>
  <text x="270" y="125" class="label">Client Libraries</text>

  <rect x="410" y="100" width="150" height="40" class="box"/>
  <text x="440" y="125" class="label">Launch System</text>

  <rect x="580" y="100" width="150" height="40" class="box"/>
  <text x="610" y="125" class="label">Parameter System</text>

  <!-- DDS Layer -->
  <rect x="150" y="160" width="500" height="60" class="box"/>
  <text x="160" y="185" class="subtitle">DDS (Data Distribution Service)</text>

  <!-- Node Example -->
  <rect x="50" y="250" width="700" height="300" class="box"/>
  <text x="60" y="270" class="subtitle">Node Architecture Example</text>

  <!-- Node Components -->
  <rect x="100" y="290" width="120" height="40" class="node"/>
  <text x="115" y="315" class="label">Node Handle</text>

  <rect x="250" y="290" width="120" height="40" class="node"/>
  <text x="275" y="315" class="label">Publishers</text>

  <rect x="400" y="290" width="120" height="40" class="node"/>
  <text x="425" y="315" class="label">Subscribers</text>

  <rect x="550" y="290" width="120" height="40" class="node"/>
  <text x="565" y="315" class="label">Service Client/Server</text>

  <rect x="250" y="350" width="120" height="40" class="node"/>
  <text x="265" y="375" class="label">Action Client/Server</text>

  <rect x="400" y="350" width="120" height="40" class="node"/>
  <text x="435" y="375" class="label">Timers</text>

  <rect x="550" y="350" width="120" height="40" class="node"/>
  <text x="580" y="375" class="label">Parameters</text>

  <rect x="100" y="350" width="120" height="40" class="node"/>
  <text x="110" y="375" class="label">Communication Interface</text>

  <!-- Communication Patterns -->
  <rect x="100" y="420" width="200" height="120" class="topic"/>
  <text x="110" y="440" class="subtitle">Topics (Pub/Sub)</text>
  <text x="110" y="460" class="label">Continuous data</text>
  <text x="110" y="475" class="label">Streaming</text>
  <text x="110" y="490" class="label">Sensor data</text>
  <text x="110" y="505" class="label">State updates</text>

  <rect x="320" y="420" width="200" height="120" class="service"/>
  <text x="330" y="440" class="subtitle">Services (Req/Res)</text>
  <text x="330" y="460" class="label">Request-Response</text>
  <text x="330" y="475" class="label">Synchronous</text>
  <text x="330" y="490" class="label">Configuration</text>
  <text x="330" y="505" class="label">Simple queries</text>

  <rect x="540" y="420" width="200" height="120" class="action"/>
  <text x="550" y="440" class="subtitle">Actions (Goals)</text>
  <text x="550" y="460" class="label">Long-running</text>
  <text x="550" y="475" class="label">Feedback</text>
  <text x="550" y="490" class="label">Cancelable</text>
  <text x="550" y="505" class="label">Complex tasks</text>
</svg>