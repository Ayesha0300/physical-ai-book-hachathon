<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="AI Agents Bridging with ROS 2">
  <title>AI Agents Bridging with ROS 2</title>
  <desc>This diagram shows how Python AI agents connect with ROS 2 middleware and robot systems. It includes three sections: Python AI Agent (blue), ROS 2 Middleware (light blue), and Robot System (light red). Arrows show the flow of data between these components.</desc>
  <style>
    .title { font: bold 16px sans-serif; fill: #333; }
    .subtitle { font: 14px sans-serif; fill: #555; }
    .ai { fill: #e0e8ff; stroke: #2c5ca6; stroke-width: 2; rx: 8; ry: 8; }
    .ros { fill: #f0f0ff; stroke: #5c5ca6; stroke-width: 2; rx: 8; ry: 8; }
    .robot { fill: #fff0f0; stroke: #a65c5c; stroke-width: 2; rx: 8; ry: 8; }
    .arrow { stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
    .label { font: 12px sans-serif; fill: #333; }
    .data { font: 10px sans-serif; fill: #555; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7"
      refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="250" y="30" class="title">AI Agents Bridging with ROS 2</text>

  <!-- AI Agent Section -->
  <rect x="50" y="60" width="250" height="480" class="ai"/>
  <text x="60" y="80" class="subtitle">Python AI Agent</text>

  <!-- AI Components -->
  <rect x="70" y="100" width="210" height="60" class="ai"/>
  <text x="110" y="125" class="label">AI Model</text>
  <text x="80" y="145" class="data">(ML/LLM/DL Model)</text>

  <rect x="70" y="180" width="210" height="60" class="ai"/>
  <text x="100" y="205" class="label">Decision Engine</text>
  <text x="80" y="225" class="data">(Planning/Reasoning)</text>

  <rect x="70" y="260" width="210" height="60" class="ai"/>
  <text x="95" y="285" class="label">rclpy Interface</text>
  <text x="80" y="305" class="data">(Node/Topic/Service)</text>

  <rect x="70" y="340" width="210" height="60" class="ai"/>
  <text x="110" y="365" class="label">State Manager</text>
  <text x="80" y="385" class="data">(Context/History)</text>

  <rect x="70" y="420" width="210" height="60" class="ai"/>
  <text x="100" y="445" class="label">Safety Validator</text>
  <text x="80" y="465" class="data">(Constraint Checker)</text>

  <!-- ROS 2 Middleware Section -->
  <rect x="330" y="60" width="140" height="480" class="ros"/>
  <text x="340" y="80" class="subtitle">ROS 2 Middleware</text>

  <rect x="350" y="100" width="100" height="60" class="ros"/>
  <text x="370" y="125" class="label">rclpy</text>
  <text x="360" y="145" class="data">(Python Client)</text>

  <rect x="350" y="180" width="100" height="60" class="ros"/>
  <text x="365" y="205" class="label">RMW</text>
  <text x="360" y="225" class="data">(ROS Middleware)</text>

  <rect x="350" y="260" width="100" height="60" class="ros"/>
  <text x="360" y="285" class="label">DDS</text>
  <text x="360" y="305" class="data">(Data Distribution)</text>

  <rect x="350" y="340" width="100" height="60" class="ros"/>
  <text x="355" y="365" class="label">Graph Manager</text>
  <text x="360" y="385" class="data">(Node Discovery)</text>

  <rect x="350" y="420" width="100" height="60" class="ros"/>
  <text x="360" y="445" class="label">Params</text>
  <text x="360" y="465" class="data">(Configuration)</text>

  <!-- Robot System Section -->
  <rect x="500" y="60" width="250" height="480" class="robot"/>
  <text x="510" y="80" class="subtitle">Robot System</text>

  <rect x="520" y="100" width="210" height="60" class="robot"/>
  <text x="550" y="125" class="label">Sensors</text>
  <text x="530" y="145" class="data">(Cameras, LiDAR, IMU)</text>

  <rect x="520" y="180" width="210" height="60" class="robot"/>
  <text x="545" y="205" class="label">Controllers</text>
  <text x="530" y="225" class="data">(Joint, Mobile Base)</text>

  <rect x="520" y="260" width="210" height="60" class="robot"/>
  <text x="540" y="285" class="label">Actuators</text>
  <text x="530" y="305" class="data">(Motors, Grippers)</text>

  <rect x="520" y="340" width="210" height="60" class="robot"/>
  <text x="540" y="365" class="label">Perception</text>
  <text x="530" y="385" class="data">(Object Detection)</text>

  <rect x="520" y="420" width="210" height="60" class="robot"/>
  <text x="545" y="445" class="label">Planning</text>
  <text x="530" y="465" class="data">(Path Planning)</text>

  <!-- Data Flow Arrows -->
  <!-- AI to ROS -->
  <line x1="280" y1="130" x2="330" y2="130" class="arrow"/>
  <text x="290" y="125" class="data">AI Decisions</text>

  <line x1="280" y1="210" x2="330" y2="210" class="arrow"/>
  <text x="290" y="205" class="data">Commands</text>

  <line x1="280" y1="290" x2="330" y2="290" class="arrow"/>
  <text x="290" y="285" class="data">Parameters</text>

  <!-- ROS to Robot -->
  <line x1="470" y1="130" x2="500" y2="130" class="arrow"/>
  <text x="475" y="125" class="data">Commands</text>

  <line x1="470" y1="210" x2="500" y2="210" class="arrow"/>
  <text x="475" y="205" class="data">Control</text>

  <line x1="470" y1="290" x2="500" y2="290" class="arrow"/>
  <text x="475" y="285" class="data">Actions</text>

  <!-- Feedback from Robot to ROS -->
  <line x1="500" y1="370" x2="470" y2="370" class="arrow"/>
  <text x="475" y="365" class="data">Sensor Data</text>

  <line x1="500" y1="450" x2="470" y2="450" class="arrow"/>
  <text x="475" y="445" class="data">Feedback</text>

  <!-- Feedback from ROS to AI -->
  <line x1="330" y1="370" x2="280" y2="370" class="arrow"/>
  <text x="290" y="365" class="data">Perception</text>

  <line x1="330" y1="450" x2="280" y2="450" class="arrow"/>
  <text x="290" y="445" class="data">State</text>

  <!-- Perception → Decision → Action Labels -->
  <text x="100" y="560" class="label">Perception</text>
  <line x1="150" y1="560" x2="200" y2="560" class="arrow"/>
  <text x="210" y="560" class="label">Decision</text>
  <line x1="260" y1="560" x2="310" y2="560" class="arrow"/>
  <text x="320" y="560" class="label">Action</text>

  <!-- Legend -->
  <rect x="600" y="520" width="160" height="70" fill="white" stroke="#ccc"/>
  <text x="610" y="540" class="subtitle">Legend</text>
  <rect x="610" y="550" width="15" height="15" class="ai"/>
  <text x="630" y="562" class="label">AI Agent</text>
  <rect x="610" y="570" width="15" height="15" class="ros"/>
  <text x="630" y="582" class="label">ROS 2</text>
  <rect x="610" y="590" width="15" height="15" class="robot"/>
  <text x="630" y="602" class="label">Robot</text>
</svg>